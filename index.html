<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wizard Predictor PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#0b1020;
  font-family:system-ui,Arial;
  color:#fff;
}
.container{
  max-width:420px;
  margin:auto;
  padding:20px;
}
.card{
  background:linear-gradient(145deg,#1a2140,#0e132a);
  border-radius:18px;
  padding:20px;
  box-shadow:0 0 25px rgba(0,0,0,.6);
}
h1{
  text-align:center;
  color:#f6b73c;
  margin:0;
}
.sub{
  text-align:center;
  opacity:.7;
  margin-bottom:15px;
}
.period{
  border:2px solid #f6b73c;
  padding:12px;
  border-radius:30px;
  text-align:center;
  margin-bottom:20px;
}
.pred{
  font-size:48px;
  text-align:center;
  margin:10px 0;
}
.BIG{color:#ff5252;}
.SMALL{color:#4fc3ff;}

.timer{
  text-align:center;
  opacity:.7;
}

.history{
  margin-top:25px;
}
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  padding:8px;
  text-align:center;
  border-bottom:1px solid rgba(255,255,255,.1);
}
.win{color:#4caf50;}
.loss{color:#ff5252;}
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <h1>Wizard Predictor</h1>
    <div class="sub">NEXT PERIOD ANALYSIS</div>

    <div class="period" id="period">PERIOD : --</div>

    <div class="pred" id="prediction">--</div>

    <div class="timer">Next result in <span id="sec">--</span>s</div>
  </div>

  <div class="card history">
    <h2 style="text-align:center;color:#f6b73c">History</h2>
    <table>
      <thead>
        <tr>
          <th>Period</th>
          <th>Pred</th>
          <th>Actual</th>
          <th>Result</th>
        </tr>
      </thead>
      <tbody id="history"></tbody>
    </table>
  </div>
</div>

<script>
/* ================= CONFIG ================= */
const API="https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json";

/* ================= MEMORY ================= */
let mem=[];
let predictedIssue=null;
let predictedValue=null;
let done=new Set();

/* ================= 25+ LOGIC ENGINE ================= */
function calculate(){
  let s=0,m=mem;

  // 1-2 momentum
  if(m.at(-1)==="BIG") s++;
  if(m.at(-1)==="SMALL") s--;

  // 3-4 double streak
  if(m.slice(-2).every(v=>v==="BIG")) s+=2;
  if(m.slice(-2).every(v=>v==="SMALL")) s-=2;

  // 5-6 triple pattern
  if(m.slice(-3).join()==="BIG,SMALL,BIG") s++;
  if(m.slice(-3).join()==="SMALL,BIG,SMALL") s--;

  // 7-8 reversal
  if(m.slice(-4).join()==="BIG,BIG,SMALL,SMALL") s--;
  if(m.slice(-4).join()==="SMALL,SMALL,BIG,BIG") s++;

  // 9 zigzag
  if(m.slice(-5).join()==="BIG,SMALL,BIG,SMALL,BIG") s++;
  if(m.slice(-5).join()==="SMALL,BIG,SMALL,BIG,SMALL") s--;

  // 10-11 dominance
  if(m.slice(-6).filter(v=>v==="BIG").length>=5) s--;
  if(m.slice(-6).filter(v=>v==="SMALL").length>=5) s++;

  // 12-13 fibonacci depth
  if(m.length%5===0) s++;
  if(m.length%8===0) s--;

  // 14-15 psychology flip
  if(m.at(-1)!==m.at(-2)) s++;
  if(m.at(-1)===m.at(-2)) s--;

  // 16-17 volatility
  if(new Set(m.slice(-5)).size===1) s-=2;
  if(new Set(m.slice(-5)).size>2) s+=1;

  // 18-19 BBSS logic
  if(m.slice(-4).join()==="BIG,BIG,SMALL,SMALL") s--;
  if(m.slice(-4).join()==="SMALL,SMALL,BIG,BIG") s++;

  // 20-21 time bias
  let t=new Date().getUTCSeconds();
  if(t>30) s++;
  if(t<30) s--;

  // 22 history pressure
  if(m.length>15 && m.slice(-10).filter(v=>v==="BIG").length>6) s--;
  if(m.length>15 && m.slice(-10).filter(v=>v==="SMALL").length>6) s++;

  // 23-24 balance restore
  if(m.filter(v=>v==="BIG").length>m.filter(v=>v==="SMALL").length+5) s--;
  if(m.filter(v=>v==="SMALL").length>m.filter(v=>v==="BIG").length+5) s++;

  // 25 randomness dampener
  if(Math.random()>0.7) s*=-1;

  let r=s>=0?"BIG":"SMALL";
  mem.push(r);
  if(mem.length>40) mem.shift();
  return r;
}

/* ================= API SYNC ================= */
async function sync(){
  try{
    const res=await fetch(API);
    const js=await res.json();
    const d=js.data.list[0];

    const issue=d.issueNumber;
    const actual=Number(d.number)>=5?"BIG":"SMALL";

    // Add history
    if(predictedIssue===issue && !done.has(issue)){
      done.add(issue);
      const win=actual===predictedValue;
      const tr=document.createElement("tr");
      tr.innerHTML=`
        <td>${issue}</td>
        <td>${predictedValue}</td>
        <td>${actual}</td>
        <td class="${win?'win':'loss'}">${win?'WIN':'LOSS'}</td>`;
      document.getElementById("history").prepend(tr);
    }

    // Next prediction
    const next=(BigInt(issue)+1n).toString();
    if(predictedIssue!==next){
      predictedIssue=next;
      predictedValue=calculate();
      document.getElementById("period").textContent="PERIOD : "+next;
      const p=document.getElementById("prediction");
      p.textContent=predictedValue;
      p.className="pred "+predictedValue;
    }
  }catch(e){}
}

/* ================= TIMER ================= */
setInterval(()=>{
  document.getElementById("sec").textContent=
    60-new Date().getUTCSeconds();
},1000);

sync();
setInterval(sync,3000);
</script>
</body>
</html>
